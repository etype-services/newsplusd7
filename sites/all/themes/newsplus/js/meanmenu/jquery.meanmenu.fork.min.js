(function($){"use strict";$.fn.meanmenu=function(options){var defaults={meanMenuTarget:jQuery(this),meanMenuContainer:"body",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanRevealHoverColour:"",meanScreenWidth:"480",meanNavPush:"",meanShowChildren:true,meanExpandableChildren:true,meanExpand:"+",meanContract:"-",meanRemoveAttrs:false,onePage:false,removeElements:""};var options=$.extend(defaults,options);var currentWidth=window.innerWidth||document.documentElement.clientWidth;return this.each(function(){var meanMenu=options.meanMenuTarget;var meanContainer=options.meanMenuContainer;var meanReveal=options.meanReveal;var meanMenuClose=options.meanMenuClose;var meanMenuCloseSize=options.meanMenuCloseSize;var meanMenuOpen=options.meanMenuOpen;var meanRevealPosition=options.meanRevealPosition;var meanRevealPositionDistance=options.meanRevealPositionDistance;var meanRevealColour=options.meanRevealColour;var meanRevealHoverColour=options.meanRevealHoverColour;var meanScreenWidth=options.meanScreenWidth;var meanNavPush=options.meanNavPush;var meanRevealClass=".meanmenu-reveal";var meanShowChildren=options.meanShowChildren;var meanExpandableChildren=options.meanExpandableChildren;var meanExpand=options.meanExpand;var meanContract=options.meanContract;var meanRemoveAttrs=options.meanRemoveAttrs;var onePage=options.onePage;var removeElements=options.removeElements;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Blackberry/i)||navigator.userAgent.match(/Windows Phone/i)){var isMobile=true}if(navigator.userAgent.match(/MSIE 8/i)||navigator.userAgent.match(/MSIE 7/i)){jQuery("html").css("overflow-y","scroll")}function meanCentered(){if(meanRevealPosition==="center"){var newWidth=window.innerWidth||document.documentElement.clientWidth;var meanCenter=newWidth/2-22+"px";meanRevealPos="left:"+meanCenter+";right:auto;";if(!isMobile){jQuery(".meanmenu-reveal").css("left",meanCenter)}else{jQuery(".meanmenu-reveal").animate({left:meanCenter})}}}var menuOn=false;var meanMenuExist=false;if(meanRevealPosition=="right"){meanRevealPos="right:"+meanRevealPositionDistance+";left:auto;"}if(meanRevealPosition=="left"){var meanRevealPos="left:"+meanRevealPositionDistance+";right:auto;"}meanCentered();var meanStyles="background:"+meanRevealColour+";color:"+meanRevealColour+";"+meanRevealPos;var $navreveal="";function meanOriginal(){jQuery(meanContainer+" .mean-bar, "+meanContainer+" .mean-push").remove();jQuery(meanContainer).removeClass("mean-container");jQuery("#superfish-1").css("display","block");jQuery(meanMenu).show();menuOn=false;meanMenuExist=false;jQuery(removeElements).removeClass("mean-remove")}function showMeanMenu(){if(currentWidth<=meanScreenWidth){jQuery("#superfish-1").css("display","none");jQuery(removeElements).addClass("mean-remove");meanMenuExist=true;jQuery(meanContainer).addClass("mean-container");jQuery(meanContainer).prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+meanStyles+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var meanMenuContents=jQuery(meanMenu).html();jQuery(meanContainer+" .mean-nav").html(meanMenuContents);if(meanRemoveAttrs){jQuery(meanContainer+" nav.mean-nav ul, "+meanContainer+" nav.mean-nav ul *").each(function(){jQuery(this).removeAttr("class");jQuery(this).removeAttr("id")})}jQuery(meanMenu).before('<div class="mean-push" />');jQuery(meanContainer+" .mean-push").css("margin-top",meanNavPush);jQuery(meanMenu).hide();jQuery(meanContainer+" .meanmenu-reveal").show();jQuery(meanContainer+" "+meanRevealClass).html(meanMenuOpen);$navreveal=jQuery(meanContainer+" "+meanRevealClass);jQuery(meanContainer+" .mean-nav ul").hide();if(meanShowChildren){if(meanExpandableChildren){jQuery(meanContainer+" .mean-nav ul ul").each(function(){if(jQuery(this).children().length){jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+meanMenuCloseSize+'">'+meanExpand+"</a>")}});jQuery(meanContainer+" .mean-expand").on("click",function(e){e.preventDefault();if(jQuery(this).hasClass("mean-clicked")){jQuery(this).text(meanExpand);jQuery(this).prev("ul").slideUp(300,function(){})}else{jQuery(this).text(meanContract);jQuery(this).prev("ul").slideDown(300,function(){})}jQuery(this).toggleClass("mean-clicked")})}else{jQuery(meanContainer+" .mean-nav ul ul").show()}}else{jQuery(meanContainer+" .mean-nav ul ul").hide()}jQuery(meanContainer+" .mean-nav ul li").last().addClass("mean-last");jQuery($navreveal).click(function(e){e.preventDefault();if(menuOn==false){$navreveal.css("text-align","center");$navreveal.css("text-indent","0");$navreveal.css("font-size",meanMenuCloseSize);jQuery(meanContainer+" .mean-nav ul:first").slideDown();menuOn=true}else{jQuery(meanContainer+" .mean-nav ul:first").slideUp();menuOn=false}jQuery(removeElements).addClass("mean-remove")});if(onePage){jQuery(meanContainer+" .mean-nav ul > li > a:first-child").on("click",function(){jQuery(meanContainer+" .mean-nav ul:first").slideUp();menuOn=false;jQuery($navreveal).html(meanMenuOpen)})}}else{meanOriginal()}}if(!isMobile){jQuery(window).resize(function(){currentWidth=window.innerWidth||document.documentElement.clientWidth;if(currentWidth>meanScreenWidth){meanOriginal()}else{meanOriginal()}if(currentWidth<=meanScreenWidth){showMeanMenu();meanCentered()}else{meanOriginal()}})}window.onorientationchange=function(){meanCentered();currentWidth=window.innerWidth||document.documentElement.clientWidth;if(currentWidth>=meanScreenWidth){meanOriginal()}if(currentWidth<=meanScreenWidth){if(meanMenuExist==false){showMeanMenu()}}};showMeanMenu()})}})(jQuery);